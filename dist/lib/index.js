!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["deltav-network-data"]=t():e["deltav-network-data"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=27)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeList=void 0,t.makeList=function(e){if(e instanceof Set){var t=[];return e.forEach((function(e){return t.push(e)})),t}return Array.isArray(e)?Array.isArray(e[0])?e.reduce((function(e,t){return e.concat(t)}),[]):e.slice(0):[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFromMapOfMaps=t.removeFromMapOfMaps=t.addToMapOfMaps=void 0,t.addToMapOfMaps=function(e,t,r,n){var o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(r,n)},t.removeFromMapOfMaps=function(e,t,r){var n=e.get(t);return!!n&&n.delete(r)},t.getFromMapOfMaps=function(e,t,r){var n=e.get(t);if(n)return n.get(r)}},function(e,t,r){"use strict";function n(e){return e&&(e.toFixed||Array.isArray(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.FlowDirection=t.MakeNetworkErrorType=t.isNode=t.isEdge=t.isAccessorString=t.isIdentifierString=t.isIdentifier=t.isWeightNumber=t.isEdgeWeights=t.isWeights=t.isDefined=void 0,t.isDefined=function(e){return!(null==e)},t.isWeights=n,t.isEdgeWeights=function(e){return e&&n(e.ab)&&n(e.ba)},t.isWeightNumber=function(e){return void 0!==e.toFixed},t.isIdentifier=function(e){return e&&(e.toFixed||e.substring)},t.isIdentifierString=function(e){return Boolean(e.substring)},t.isAccessorString=function(e){return Boolean(e.substring)},t.isEdge=function(e){return e&&e.a&&e.b},t.isNode=function(e){return e&&e.in&&e.out},function(e){e[e.BAD_ID=0]="BAD_ID",e[e.NODE_NOT_FOUND=1]="NODE_NOT_FOUND",e[e.DUPLICATE_NODE_ID=2]="DUPLICATE_NODE_ID",e[e.DUPLICATE_EDGE_ID=3]="DUPLICATE_EDGE_ID",e[e.UNKNOWN=4]="UNKNOWN"}(t.MakeNetworkErrorType||(t.MakeNetworkErrorType={})),function(e){e[e.BOTH=0]="BOTH",e[e.OUT=1]="OUT",e[e.IN=2]="IN"}(t.FlowDirection||(t.FlowDirection={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeEdge=void 0;var n=r(0),o=r(1);t.removeEdge=function(e,t,r){t=n.makeList(t),r=r||new Set;for(var i=new Set,a=0,s=t.length;a<s;++a){var u=t[a],c=e.edgeMap.get(u.id);if(c)if(c===u){e.edgeMap.delete(u.id);var d=u.a.out.indexOf(u),l=u.b.in.indexOf(u);d>-1&&u.a.out.splice(d,1),l>-1&&u.b.in.splice(l,1);var f=e.edges.indexOf(u);f>-1&&e.edges.splice(f,1),o.removeFromMapOfMaps(e.atobMap,u.a,u.b),r.add(u)}else i.add(u);else r.has(u)||i.add(u)}return{edges:r,errors:i.size>0?i:null}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1),t),o(r(0),t),o(r(6),t),o(r(29),t),o(r(30),t),o(r(16),t),o(r(33),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEdge=void 0;var n=r(0),o=r(1);t.addEdge=function(e,t,r,i){t=n.makeList(t),r=r||new Set;for(var a=i||new Set,s=0,u=t.length;s<u;++s){var c=t[s];if(e.edgeMap.has(c.id))r.has(c)||a.add(c);else{var d=e.nodeMap.get(c.a.id),l=e.nodeMap.get(c.b.id);if(d===c.a&&l===c.b){e.edges.push(c),e.edgeMap.set(c.id,c),o.addToMapOfMaps(e.atobMap,c.a,c.b,c);var f=c.a.out.indexOf(c);f<0&&c.a.out.push(c),(f=c.b.in.indexOf(c))<0&&c.b.in.push(c),r.add(c)}else a.add(c)}}return{edges:r,errors:a.size>0?a:null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.access=void 0;var n=r(2);t.access=function(e,t,r,o){if(t){if(!n.isAccessorString(t))return t(e,o);var i=e[t];if(r(i))return i}return null}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeNetwork=t.MakeNetworkAggregateValueMode=void 0;var a,s=r(14),u=r(2),c=r(6),d=r(15),l=r(1),f=r(3);function h(e,t,r){switch(e){case a.CONCAT:if(void 0===t)return r;if(void 0===r)return t;if(u.isWeightNumber(t))return[t].concat(r);t.concat(r).filter(u.isDefined);case a.NONE:return void 0===r?t:r;case a.OVERRIDE:if(void 0===t)return r;if(void 0===r)return t;if(u.isWeightNumber(t)||u.isWeightNumber(r))return r;for(var n=r.length>t.length?r:t,o=new Array(n.length),i=0,s=r.length;i<s;++i){var c=r[i];o[i]=void 0!==c?c:t[i]}return o}}!function(e){e[e.NONE=0]="NONE",e[e.OVERRIDE=1]="OVERRIDE",e[e.CONCAT=2]="CONCAT"}(a=t.MakeNetworkAggregateValueMode||(t.MakeNetworkAggregateValueMode={})),t.makeNetwork=function(e){var t,r,p,v;return n(this,void 0,Promise,(function(){var n,g,b,y,m,w,E,_,M,T,O,N,S,A,I,P,x,k,D,R,j,C,F,U,L,B,W,V,G,Y,H,z,K,J,X,q,$,Q,Z,ee,te,re,ne,oe,ie,ae,se,ue,ce,de,le,fe,he;return o(this,(function(o){switch(o.label){case 0:n=e.aggregateResults,g=e.aggregateValueMode,b=void 0===g?a.NONE:g,y=e.edgeA,m=e.edgeB,w=e.edgeData,E=e.edgeId,_=e.edgeInfo,M=e.edgeMeta,T=e.edgeValues,O=e.nodeData,N=e.nodeId,S=e.nodeInfo,A=e.nodeMeta,I=e.nodeValues,P=e.suppressErrors,x=[],k=[],D=[],R=0,j=0,C=new Map,F=new Map,U=new Set(P||[]),L=new Map,B={nodes:x,edges:k,nodeMap:C,edgeMap:F,atobMap:L,errors:D},o.label=1;case 1:o.trys.push([1,6,7,12]),W=i(s.values(O)),o.label=2;case 2:return[4,W.next()];case 3:if((V=o.sent()).done)return[3,5];for(X=V.value,q=c.access(X,N,u.isIdentifier)||R++,Array.isArray(q)||(q=[q]),$=[],Q=[],ee=0,te=q.length;ee<te;++ee)Z=q[ee],$.push(Z),S?Q.push(S(Z,ee,X)):Q.push(void 0);for(ee=0,te=$.length;ee<te;++ee)re=$[ee],ne=Q[ee],le=C.get(re),G=c.access(X,I,u.isWeights,ne)||[],ce=c.access(X,A,(function(e){return e}),ne)||void 0,Y=void 0,n?le?(le.value=h(b,le.value,G)||[],le.meta=Object.assign({},le.meta,ce)):(Y={id:re,in:[],out:[],value:G,meta:ce},x.push(Y),C.set(Y.id,Y)):(Y={id:re,in:[],out:[],value:G,meta:ce},le&&(d.makeError(U,D,{error:u.MakeNetworkErrorType.DUPLICATE_NODE_ID,source:[X,le],message:"Two nodes have the same Identifier. This overrides the previous node discovered"}),x.splice(x.indexOf(le),1)),x.push(Y),C.set(Y.id,Y));o.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return H=o.sent(),t={error:H},[3,12];case 7:return o.trys.push([7,,10,11]),V&&!V.done&&(r=W.return)?[4,r.call(W)]:[3,9];case 8:o.sent(),o.label=9;case 9:return[3,11];case 10:if(t)throw t.error;return[7];case 11:return[7];case 12:z=new Map,o.label=13;case 13:o.trys.push([13,18,19,24]),K=i(s.values(w)),o.label=14;case 14:return[4,K.next()];case 15:if((J=o.sent()).done)return[3,17];for(X=J.value,q=c.access(X,E,u.isIdentifier)||j++,Array.isArray(q)||(q=[q]),$=[],Q=[],ee=0,te=q.length;ee<te;++ee)Z=q[ee],$.push(Z),_?Q.push(_(Z,ee,X)):Q.push(void 0);for(ee=0,te=$.length;ee<te;++ee)if(re=$[ee],ne=Q[ee],oe=c.access(X,y,u.isIdentifier,ne)||"",ie=c.access(X,m,u.isIdentifier,ne)||"",ae=C.get(oe),se=C.get(ie),ue=c.access(X,T,u.isEdgeWeights,ne)||{ab:[],ba:[]},ce=c.access(X,M,(function(e){return e}),ne)||void 0,n)(de=z.get(re))?(le=de[0],de[1].push(X),ae&&(le.a=ae),se&&(le.b=se),u.isWeights(ue.ab)&&(le.atob=h(b,le.atob,ue.ab)),u.isWeights(ue.ba)&&(le.btoa=h(b,le.btoa,ue.ba)),le.meta=Object.assign({},le.meta,ce)):(fe={id:re,a:ae,b:se,atob:ue.ab,btoa:ue.ba,meta:ce},z.set(re,[fe,[]]));else{if(le=F.get(re),!ae||!se){d.makeError(U,D,{error:u.MakeNetworkErrorType.NODE_NOT_FOUND,source:X,message:oe||ie?oe?ie?"Error":"Could not find node b for this edge":"Could not find node a for this edge":"Could not find either node for this edge"});continue}fe={id:re,a:ae,b:se,atob:ue.ab||0,btoa:ue.ba||0,meta:ce},le&&(d.makeError(U,D,{error:u.MakeNetworkErrorType.DUPLICATE_EDGE_ID,source:[X,le],message:"Two edges have the same Identifier. This overrides the previous edge discovered"}),f.removeEdge(B,le)),k.push(fe),F.set(fe.id,fe),fe.a.out.push(fe),fe.b.in.push(fe),l.addToMapOfMaps(L,fe.a,fe.b,fe)}o.label=16;case 16:return[3,14];case 17:return[3,24];case 18:return he=o.sent(),p={error:he},[3,24];case 19:return o.trys.push([19,,22,23]),J&&!J.done&&(v=K.return)?[4,v.call(K)]:[3,21];case 20:o.sent(),o.label=21;case 21:return[3,23];case 22:if(p)throw p.error;return[7];case 23:return[7];case 24:return n&&z.forEach((function(e){var t=e[0],r=e[1];if(t.id)if(t.a&&t.b){var n={id:t.id,a:t.a,b:t.b,atob:t.atob||[],btoa:t.btoa||[],meta:t.meta};k.push(n),F.set(n.id,n),n.a.out.push(n),n.b.in.push(n),l.addToMapOfMaps(L,n.a,n.b,n),F.set(n.id,n)}else{var o=t.a,i=t.b;d.makeError(U,D,{error:u.MakeNetworkErrorType.NODE_NOT_FOUND,source:r,message:o||i?o?i?"Error":"Could not find node b for this edge":"Could not find node a for this edge":"Could not find either node for this edge"})}else d.makeError(U,D,{error:u.MakeNetworkErrorType.BAD_ID,source:r,message:"An edge was generated that has an invalid ID"})})),[2,B]}}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEdge=void 0;var n=r(1);t.getEdge=function(e,t,r){if(r){var o=n.getFromMapOfMaps(r.atobMap,e,t);return o||n.getFromMapOfMaps(r.atobMap,t,e)}var i=e.in.find((function(e){return e.a===t}));return i||(i=e.out.find((function(e){return e.b===t}))),i}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(37),t),o(r(8),t),o(r(38),t),o(r(39),t),o(r(22),t),o(r(23),t),o(r(40),t),o(r(24),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneEdge=void 0,t.cloneEdge=function(e,t){return{id:void 0!==t?t:e.id,a:e.a,b:e.b,atob:Array.isArray(e.atob)?e.atob.slice(0):e.atob,btoa:Array.isArray(e.btoa)?e.btoa.slice(0):e.btoa,meta:e.meta}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=void 0,t.cloneNode=function(e,t){return{id:void 0!==t?t:e.id,in:e.in.slice(0),out:e.out.slice(0),value:Array.isArray(e.value)?e.value.slice(0):e.value,meta:e.meta}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(28),t),o(r(19),t),o(r(34),t),o(r(35),t),o(r(20),t),o(r(20),t),o(r(36),t),o(r(21),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineSharedEdges=void 0;var n=r(1),o=r(5),i=r(3);t.combineSharedEdges=function(e,t){for(var r=new Map,a=e.edges.slice(0),s=0,u=a.length;s<u;++s){var c=a[s],d=n.getFromMapOfMaps(r,c.a,c.b);if(d||(d=n.getFromMapOfMaps(r,c.b,c.a)),d){var l=t(d,c);i.removeEdge(e,d),i.removeEdge(e,c),o.addEdge(e,l),n.addToMapOfMaps(r,l.a,l.b,l)}else n.addToMapOfMaps(r,c.a,c.b,c)}return e}},function(e,t,r){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(1)),n(r(2)),n(r(4))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof s?s(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}},a=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||u(e,t)}))})}function u(e,t){try{(r=i[e](t)).value instanceof o?Promise.resolve(r.value.v).then(c,d):l(a[0][2],r)}catch(e){l(a[0][3],e)}var r}function c(e){u("next",e)}function d(e){u("throw",e)}function l(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var u=r(3);function c(e){return function(e){return Array.isArray(e)}(e)?u.ProviderType.LIST:function(e){return void 0!==e.constructor&&(e.constructor===Set||e.constructor===Map)}(e)?u.ProviderType.SET:function(e){return"function"==typeof e[Symbol.iterator]}(e)?u.ProviderType.ITERATOR:function(e){return"function"==typeof e[Symbol.asyncIterator]}(e)?u.ProviderType.ITERATOR_ASYNC:function(e){return"object"==typeof e}(e)?u.ProviderType.OBJECT:function(e){return"function"==typeof e}(e)?u.ProviderType.METHOD:u.ProviderType.UNKNOWN}function d(e){return{type:c(e)}}t.values=function(e){return a(this,arguments,(function(){var t,r,a,c,l,f,h,p,v,g,b,y,m,w,E,_,M,T,O,N,S;return n(this,(function(n){switch(n.label){case 0:switch((t=d(e)).type){case u.ProviderType.LIST:return[3,1];case u.ProviderType.ITERATOR:return[3,8];case u.ProviderType.ITERATOR_ASYNC:return[3,23];case u.ProviderType.SET:return[3,39];case u.ProviderType.OBJECT:return[3,45];case u.ProviderType.METHOD:return[3,52];case u.ProviderType.UNKNOWN:return[3,97];case u.ProviderType.METHOD_SYNC:case u.ProviderType.METHOD_ASYNC:case u.ProviderType.GENERATOR:case u.ProviderType.GENERATOR_ASYNC:return[3,101]}return[3,103];case 1:M=0,b=(r=e).length,n.label=2;case 2:return M<b?[4,o(r[M])]:[3,6];case 3:return[4,n.sent()];case 4:n.sent(),n.label=5;case 5:return++M,[3,2];case 6:return[4,o(void 0)];case 7:return[2,n.sent()];case 8:if(!(w=e).next)return[3,13];_=w.next(),n.label=9;case 9:return _.done?[3,12]:[4,o(_.value)];case 10:return[4,n.sent()];case 11:return n.sent(),_=w.next(),[3,9];case 12:return[3,21];case 13:n.trys.push([13,19,20,21]),a=s(w),c=a.next(),n.label=14;case 14:return c.done?[3,18]:(_=c.value,[4,o(_)]);case 15:return[4,n.sent()];case 16:n.sent(),n.label=17;case 17:return c=a.next(),[3,14];case 18:return[3,21];case 19:return l=n.sent(),T={error:l},[3,21];case 20:try{c&&!c.done&&(O=a.return)&&O.call(a)}finally{if(T)throw T.error}return[7];case 21:return[4,o(void 0)];case 22:return[2,n.sent()];case 23:w=e,n.label=24;case 24:n.trys.push([24,31,32,37]),f=i(w),n.label=25;case 25:return[4,o(f.next())];case 26:return(h=n.sent()).done?[3,30]:(_=h.value,[4,o(_)]);case 27:return[4,n.sent()];case 28:n.sent(),n.label=29;case 29:return[3,25];case 30:return[3,37];case 31:return p=n.sent(),N={error:p},[3,37];case 32:return n.trys.push([32,,35,36]),h&&!h.done&&(S=f.return)?[4,o(S.call(f))]:[3,34];case 33:n.sent(),n.label=34;case 34:return[3,36];case 35:if(N)throw N.error;return[7];case 36:return[7];case 37:return[4,o(void 0)];case 38:return[2,n.sent()];case 39:w=e.values(),_=w.next(),n.label=40;case 40:return _.done?[3,43]:[4,o(_.value)];case 41:return[4,n.sent()];case 42:return n.sent(),_=w.next(),[3,40];case 43:return[4,o(void 0)];case 44:return[2,n.sent()];case 45:v=e,g=Object.values(v),M=0,b=g.length,n.label=46;case 46:return M<b?[4,o(g[M])]:[3,50];case 47:return[4,n.sent()];case 48:n.sent(),n.label=49;case 49:return++M,[3,46];case 50:return[4,o(void 0)];case 51:return[2,n.sent()];case 52:return void 0!==(m=(y=e)(0))?[3,54]:[4,o(void 0)];case 53:return[2,n.sent()];case 54:return u.isIterable(m)?(t.type=u.ProviderType.GENERATOR,[3,63]):[3,55];case 55:return u.isAsyncIterable(m)?(t.type=u.ProviderType.GENERATOR_ASYNC,[3,63]):[3,56];case 56:return m instanceof Promise?(t.type=u.ProviderType.METHOD_ASYNC,[4,o(m)]):[3,60];case 57:return[4,o.apply(void 0,[n.sent()])];case 58:return[4,n.sent()];case 59:return n.sent(),[3,63];case 60:return t.type=u.ProviderType.METHOD_SYNC,[4,o(m)];case 61:return[4,n.sent()];case 62:n.sent(),n.label=63;case 63:switch(t.type){case u.ProviderType.GENERATOR:return[3,64];case u.ProviderType.GENERATOR_ASYNC:return[3,70];case u.ProviderType.METHOD_ASYNC:return[3,78];case u.ProviderType.METHOD_SYNC:return[3,87]}return[3,95];case 64:E=-1,_=(w=m).next(++E),n.label=65;case 65:return _.done?[3,68]:[4,o(_.value)];case 66:return[4,n.sent()];case 67:return n.sent(),_=w.next(++E),[3,65];case 68:return[4,o(void 0)];case 69:return[2,n.sent()];case 70:return E=-1,[4,o((w=m).next(++E))];case 71:_=n.sent(),n.label=72;case 72:return _.done?[3,76]:[4,o(_.value)];case 73:return[4,n.sent()];case 74:return n.sent(),[4,o(w.next(++E))];case 75:return _=n.sent(),[3,72];case 76:return[4,o(void 0)];case 77:return[2,n.sent()];case 78:M=0,n.label=79;case 79:return void 0===m?[3,85]:[4,o(y(++M))];case 80:return void 0!==(m=n.sent())?[3,82]:[4,o(void 0)];case 81:return[2,n.sent()];case 82:return[4,o(m)];case 83:return[4,n.sent()];case 84:return n.sent(),[3,79];case 85:return[4,o(void 0)];case 86:return[2,n.sent()];case 87:M=0,n.label=88;case 88:return void 0===m?[3,93]:void 0!==(m=y(++M))?[3,90]:[4,o(void 0)];case 89:return[2,n.sent()];case 90:return[4,o(m)];case 91:return[4,n.sent()];case 92:return n.sent(),[3,88];case 93:return[4,o(void 0)];case 94:return[2,n.sent()];case 95:return console.warn("The provider could not have it's type determined for iteration. Thus no values will be returned."),[4,o(void 0)];case 96:return[2,n.sent()];case 97:return[4,o(e)];case 98:return[4,n.sent()];case 99:return n.sent(),[4,o(void 0)];case 100:return[2,n.sent()];case 101:return console.warn("Undefined behavior occurred while processing a provider. No values will be returned."),[4,o(void 0)];case 102:return[2,n.sent()];case 103:return console.warn("The provider could not have it's type properly determined for iteration. Thus no values will be returned."),[4,o(void 0)];case 104:return[2,n.sent()]}}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LIST=0]="LIST",e[e.METHOD=1]="METHOD",e[e.METHOD_SYNC=2]="METHOD_SYNC",e[e.METHOD_ASYNC=3]="METHOD_ASYNC",e[e.GENERATOR=4]="GENERATOR",e[e.GENERATOR_ASYNC=5]="GENERATOR_ASYNC",e[e.ITERATOR=6]="ITERATOR",e[e.ITERATOR_ASYNC=7]="ITERATOR_ASYNC",e[e.OBJECT=8]="OBJECT",e[e.PRIMITIVE=9]="PRIMITIVE",e[e.SET=10]="SET",e[e.UNKNOWN=11]="UNKNOWN"}(t.ProviderType||(t.ProviderType={})),t.isIterable=function(e){return!!e&&"function"==typeof e[Symbol.iterator]},t.isAsyncIterable=function(e){return!!e&&"function"==typeof e[Symbol.asyncIterator]}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.retrieve=function(e,t){var r,a,s,u;return n(this,void 0,void 0,(function(){var n,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),r=i(e),o.label=1;case 1:return[4,r.next()];case 2:if((a=o.sent()).done)return[3,4];n=a.value,t(n),o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=o.sent(),s={error:c},[3,11];case 6:return o.trys.push([6,,9,10]),a&&!a.done&&(u=r.return)?[4,u.call(r)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return[2]}}))}))}}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeError=void 0,t.makeError=function(e,t,r){e.has(r.error)||t.push(r)}},function(e,t,r){"use strict";function n(e,t,r){for(var n=r,o=t+n-1,i=[],a=new Set,s=0;s<n-1;++s){for(var u=e(o-1+1);a.has(u);)u=e(o-1+1);i.push(u),a.add(u)}i.sort((function(e,t){return e-t}));var c=[];for(s=0;s<n-1;++s){var d=i[s];s>0&&(d-=i[s-1]),c.push(d-1)}return c.push(o-i[i.length-1]),c}Object.defineProperty(t,"__esModule",{value:!0}),t.exclusiveRandItems=t.randomSum=t.randItem=void 0,t.randItem=function(e,t){return t[e(t.length)]},t.randomSum=n,t.exclusiveRandItems=function(e,t,r){if(t.length<r)return null;if(t.length===r)return t.slice(0);if(t.length-r<r){var o=n(e,t.length,t.length-r),i=t.slice(0),a=[];o.reduce((function(e,t){var r=e+t;return a.push(r),r}),0);for(var s=a.length-1;s>=0;--s){var u=a[s];i.slice(u,1)}return i}var c=[];return(o=n(e,t.length-1,r+1).map((function(e){return e<0?0:e>=t.length?t.length-1:e}))).pop(),o.reduce((function(e,r){var n=e+r;return c.push(t[n]),n}),0),c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNode=void 0;var n=r(0),o=r(5);t.addNode=function(e,t,r,i){t=n.makeList(t),r=r||new Set,i=i||new Set;for(var a=new Set,s=new Set,u=[],c=0,d=t.length;c<d;++c){var l=t[c];e.nodeMap.has(l.id)?r.has(l)||a.add(l):(e.nodes.push(l),e.nodeMap.set(l.id,l),r.add(l),u.push(l))}for(c=0,d=u.length;c<d;++c){l=u[c];o.addEdge(e,l.out,i,s),o.addEdge(e,l.in,i,s)}return{nodes:r,edges:i,errors:{nodes:a,edges:s}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNode=void 0;var n=r(0),o=r(3);t.removeNode=function(e,t,r,i){t=n.makeList(t),i=i||new Set,r=r||new Set;for(var a=new Set,s=0,u=t.length;s<u;++s){var c=t[s],d=e.nodeMap.get(c.id);if(d)if(d===c){e.nodeMap.delete(c.id);var l=o.removeEdge(e,c.out,i),f=o.removeEdge(e,c.in,i);c.in=Array.from(f.edges).concat(Array.from(f.errors||[])),c.out=Array.from(l.edges).concat(Array.from(l.errors||[])),e.nodes.splice(e.nodes.indexOf(c),1),r.add(c)}else a.add(c);else r.has(c)||a.add(c)}return{nodes:r,edges:i,errors:a.size>0?a:null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.neighbors=void 0;var n=r(2);t.neighbors=function(e){var t,r=e.node,o=e.exclude,i=e.includeEdgeToExcludedNode,a=e.includeExcludedNodes,s=e.includeEdgeForCircularReference,u=e.flow,c=[],d=[];i&&(t=[]);var l,f=!u||u===n.FlowDirection.IN,h=!u||u===n.FlowDirection.OUT;if(a&&(l=new Set),o){if(f)for(var p=0,v=r.in.length;p<v;++p){(g=r.in[p]).a!==g.b?o.has(g.a)?t&&(l&&l.add(g.a),t.push(g)):(c.push(g.a),d.push(g)):s&&d.push(g)}if(h)for(p=0,v=r.out.length;p<v;++p){(g=r.out[p]).a!==g.b?o.has(g.b)?t&&(l&&l.add(g.a),t.push(g)):(c.push(g.b),d.push(g)):s&&!f&&d.push(g)}}else{if(f)for(p=0,v=r.in.length;p<v;++p){(g=r.in[p]).a!==g.b?(c.push(g.a),d.push(g)):s&&d.push(g)}if(h)for(p=0,v=r.out.length;p<v;++p){var g;(g=r.out[p]).a!==g.b?(c.push(g.b),d.push(g)):s&&!f&&d.push(g)}}return{nodes:c,edges:d,excluded:l,edgeToExclusion:t}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedConnection=void 0,t.sharedConnection=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.travelPath=void 0;var n=r(8);t.travelPath=function(e,t,r,o,i){for(var a=-1,s=e;s;){r(s,++a);var u=s;if(s=t.get(s)){var c=n.getEdge(s,u,i);if(!c)return void console.warn("Traveled a path that had two nodes with no connecting edge.","This is an error with the input data structure.","Please make sure all your nodes are a part of a VALID Network Data object");o(c,++a)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxWeight=void 0,t.maxWeight=function(e){return Array.isArray(e)?Math.max.apply(Math,e):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.minWeight=void 0,t.minWeight=function(e){return Array.isArray(e)?Math.min.apply(Math,e):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.weightAtIndex=void 0,t.weightAtIndex=function(e,t){return Array.isArray(t)?t[e]||0:t}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5),t),o(r(17),t),o(r(10),t),o(r(41),t),o(r(11),t),o(r(13),t),o(r(42),t),o(r(26),t),o(r(7),t),o(r(43),t),o(r(44),t),o(r(3),t),o(r(18),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyNetwork=void 0,t.emptyNetwork=function(){return{nodes:[],nodeMap:new Map,edges:[],edgeMap:new Map,atobMap:new Map}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Data=t.Calculate=t.Selection=void 0,i(r(12),t),i(r(9),t),i(r(25),t),i(r(2),t),i(r(4),t);var s=a(r(9)),u=a(r(25)),c=a(r(12)),d=a(r(4));t.Selection=c,t.Calculate=s,t.Data=u,t.Util=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allEdges=void 0;var n=r(4);t.allEdges=function(e,t){for(var r=n.makeList(e),o=t||new Set,i=0,a=r.length;i<a;++i){for(var s=r[i],u=0,c=s.in.length;u<c;++u)o.add(s.in[u]);for(u=0,c=s.out.length;u<c;++u)o.add(s.out[u])}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowListCompare=void 0,t.shallowListCompare=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;++r)if(e[r]!==t[r])return!1;return!0}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.randomNetwork=t.randomEdges=t.randomNodesWithEdges=t.randomNodes=void 0;var i=r(13),a=r(7),s=r(16),u=r(31);function c(e,t){return e[t(e.length)]}function d(e,t,r){for(var n=[],o=0,i=r;o<i;++o)n.push(c(e,t));return n.join(" ")}function l(e,t){for(var r=0,n=u.create("nodes"),o=[],i=0;i<t;++i)o.push({name:d(e,n,3),UID:++r,dateMetric:new Date,numMetric:n(1e3),strMetric:c(e,n)});return o}function f(e,t,r){for(var n=0,o=u.create("edges"),i=[],a=0;a<r;++a){var l=s.exclusiveRandItems(o,t,2);l&&i.push({name:d(e,o,3),UID:++n,UID_A:l[0].UID,UID_B:l[1].UID,dateMetric:new Date,numMetric:o(1e3),strMetric:c(e,o)})}return i}t.randomNodes=l,t.randomNodesWithEdges=function(e,t,r){for(var n=u.create("nodes-with-edges"),o=this.randomNodes(e,t),i=0,a=o.length;i<a;++i){var c=o[i],d=s.exclusiveRandItems(n,o,r);c.siblings=(null==d?void 0:d.map((function(e){return e.UID||-1})))||[]}return o},t.randomEdges=f,t.randomNetwork=function(e,t,r,s,u){return n(this,void 0,void 0,(function(){var n,c,d;return o(this,(function(o){switch(o.label){case 0:return n=l(e,t),c=f(e,n,r),[4,a.makeNetwork({edgeData:c,nodeData:n,nodeId:function(e){return e.UID||""},nodeMeta:s,nodeValues:function(e){return e.numMetric},edgeId:function(e){return e.UID||""},edgeMeta:u,edgeA:function(e){return e.UID_A||""},edgeB:function(e){return e.UID_B||""},edgeValues:function(e){return{ab:e.numMetric,ba:e.numMetric}}})];case 1:return d=o.sent(),i.combineSharedEdges(d,(function(e,t){return e})),[2,d]}}))}))}},function(e,t,r){"use strict";var n=r(32),o=function(){var e=4022871197;return function(t){if(t){t=t.toString();for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)}e=4022871197}},i=function(e){return function(){var t,r,i=48,a=1,s=i,u=new Array(i),c=0,d=new o;for(t=0;t<i;t++)u[t]=d(Math.random());var l=function(){++s>=i&&(s=0);var e=1768863*u[s]+2.3283064365386963e-10*a;return u[s]=e-(a=0|e)},f=function(e){return Math.floor(e*(l()+11102230246251565e-32*(2097152*l()|0)))};f.string=function(e){var t,r="";for(t=0;t<e;t++)r+=String.fromCharCode(33+f(94));return r};var h=function(){var e=Array.prototype.slice.call(arguments);for(t=0;t<e.length;t++)for(r=0;r<i;r++)u[r]-=d(e[t]),u[r]<0&&(u[r]+=1)};return f.cleanString=function(e){return e=(e=(e=e.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[\x00-\x1F]/gi,"")).replace(/\n /,"\n")},f.hashString=function(e){for(e=f.cleanString(e),d(e),t=0;t<e.length;t++)for(c=e.charCodeAt(t),r=0;r<i;r++)u[r]-=d(c),u[r]<0&&(u[r]+=1)},f.seed=function(e){null==e&&(e=Math.random()),"string"!=typeof e&&(e=n(e,(function(e,t){return"function"==typeof t?t.toString():t}))),f.initState(),f.hashString(e)},f.addEntropy=function(){var e=[];for(t=0;t<arguments.length;t++)e.push(arguments[t]);h(c+++(new Date).getTime()+e.join("")+Math.random())},f.initState=function(){for(d(),t=0;t<i;t++)u[t]=d(" ");a=1,s=i},f.done=function(){d=null},void 0!==e&&f.seed(e),f.range=function(e){return f(e)},f.random=function(){return f(Number.MAX_VALUE-1)/Number.MAX_VALUE},f.floatBetween=function(e,t){return f.random()*(t-e)+e},f.intBetween=function(e,t){return Math.floor(f.random()*(t-e+1))+e},f}()};i.create=function(e){return new i(e)},e.exports=i},function(e,t){function r(e,t){var r=[],n=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"}),function(o,i){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,o):n.push(o),~r.indexOf(i)&&(i=t.call(this,o,i))}else r.push(i);return null==e?i:e.call(this,o,i)}}(e.exports=function(e,t,n,o){return JSON.stringify(e,r(t,o),n)}).getSerialize=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkDataManager=void 0;var n=r(5),o=r(17),i=r(3),a=r(18),s=function(){function e(e){var t=this;this.nodeAdds=new Set,this.nodeRemovals=new Set,this.nodeErrors=new Set,this.edgeAdds=new Set,this.edgeRemovals=new Set,this.edgeErrors=new Set,this.listeners=new Set,this.finished=Promise.resolve(),this.doAddNode=function(e){t.nodeRemovals.has(e)?t.nodeRemovals.delete(e):t.nodeAdds.add(e)},this.doAddEdge=function(e){t.edgeRemovals.has(e)?t.edgeRemovals.delete(e):t.edgeAdds.add(e)},this.doRemoveNode=function(e){t.nodeAdds.has(e)?t.nodeAdds.delete(e):t.nodeRemovals.add(e)},this.doRemoveEdge=function(e){t.edgeAdds.has(e)?t.edgeAdds.delete(e):t.edgeRemovals.add(e)},this.options=e,e.listener&&this.addListener(e.listener)}return Object.defineProperty(e.prototype,"data",{get:function(){return this.options.data},enumerable:!1,configurable:!0}),e.prototype.addListener=function(e){this.listeners.add(e)},e.prototype.removeListener=function(e){this.listeners.delete(e)},e.prototype.addNode=function(e){var t,r,n=this,i=this.options.data,a=o.addNode(i,e);return a.nodes.forEach(this.doAddNode),a.edges.forEach(this.doAddEdge),null===(t=a.errors.nodes)||void 0===t||t.forEach((function(e){return n.nodeErrors.add(e)})),null===(r=a.errors.edges)||void 0===r||r.forEach((function(e){return n.edgeErrors.add(e)})),this.flush(),a},e.prototype.addEdge=function(e){var t,r=this,o=this.options.data,i=n.addEdge(o,e);return i.edges.forEach(this.doAddEdge),null===(t=i.errors)||void 0===t||t.forEach((function(e){return r.edgeErrors.add(e)})),this.flush(),i},e.prototype.removeNode=function(e){var t,r=this,n=this.options.data,o=a.removeNode(n,e);return o.nodes.forEach(this.doRemoveNode),o.edges.forEach(this.doRemoveEdge),null===(t=o.errors)||void 0===t||t.forEach((function(e){return r.nodeErrors.add(e)})),this.flush(),o},e.prototype.removeEdge=function(e){var t,r=this,n=this.options.data,o=i.removeEdge(n,e);return o.edges.forEach(this.doRemoveEdge),null===(t=o.errors)||void 0===t||t.forEach((function(e){return r.edgeErrors.add(e)})),this.flush(),o},e.prototype.flush=function(e){var t=this,r=this.options.debounce;r&&!e?(this.resolve||(this.finished=new Promise((function(e){return t.resolve=e}))),clearTimeout(this.timerId),this.timerId=setTimeout((function(){return t.flush(!0)}),r)):(clearTimeout(this.timerId),this.listeners.forEach((function(e){var r=e.onRemoveEdges,n=e.onRemoveNodes,o=e.onEdgeErrors,i=e.onNodeErrors,a=e.onAddEdges,s=e.onAddNodes;t.edgeErrors.size>0&&(null==o||o(t.edgeErrors)),t.edgeErrors.clear(),t.nodeErrors.size>0&&(null==i||i(t.nodeErrors)),t.nodeErrors.clear(),t.edgeRemovals.size>0&&(null==r||r(t.edgeRemovals)),t.edgeRemovals.clear(),t.nodeRemovals.size>0&&(null==n||n(t.nodeRemovals)),t.nodeRemovals.clear(),t.nodeAdds.size>0&&(null==s||s(t.nodeAdds)),t.nodeAdds.clear(),t.edgeAdds.size>0&&(null==a||a(t.edgeAdds)),t.edgeAdds.clear()})),this.resolve&&(this.resolve(),delete this.resolve))},e}();t.NetworkDataManager=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noConnections=void 0,t.noConnections=function(e){return e.nodes.filter((function(e){return 0===e.in.length&&0===e.out.length}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.RippleSelect=t.RipplePriority=void 0;var i=r(0),a=r(19);!function(e){e[e.BLENDS=0]="BLENDS",e[e.OVERRIDES=1]="OVERRIDES",e[e.TERMINATES=2]="TERMINATES",e[e.COMPLETELY_TERMINATES=3]="COMPLETELY_TERMINATES",e[e.TERMINATES_OTHERS=4]="TERMINATES_OTHERS"}(t.RipplePriority||(t.RipplePriority={}));var s=function(){function e(e,t){this.isAlive=!0,this.visitedNodes=new Set,this.visitedEdges=new Set,this.waveFront=[],this.waveFrontDepth=0,this.options=e,this.sendResult=t}return e.prototype.stop=function(){this.isAlive=!1,this.visitedEdges.clear(),this.visitedNodes.clear(),this.resolveFinish()},e.prototype.processResultResponse=function(e){return e?(e.stop&&this.stop(),this.isAlive):this.isAlive},e.prototype.init=function(){return n(this,void 0,Promise,(function(){var e,t,r,n,a,s,u,c,d,l,f,h=this;return o(this,(function(o){switch(o.label){case 0:if(this.finished)return[2,this.isAlive];for(this.finished=new Promise((function(e){return h.resolveFinish=e})),e=this.options,t=e.startNodes,r=e.includeCollisions,n=e.includeSource,a=e.includePath,s=new Set,u=i.makeList(t),c=0,d=u.length;c<d;++c)l=u[c],s.has(l)?console.warn("Duplicate start points detected for a Splash. Duplicates will be stripped out."):(this.visitedNodes.add(l),this.waveFront.push(l));if(r||n)for(this.nodeToSource=new Map,c=0,d=this.waveFront.length;c<d;++c)l=this.waveFront[c],this.nodeToSource.set(l,l);return(a||r)&&(this.path=new Map),[4,this.sendResult({depth:this.waveFrontDepth,nodes:this.waveFront,nodeCollisions:this.options.includeCollisions?new Map:void 0,edges:[],edgeCollisions:this.options.includeCollisions?new Set:void 0,path:this.path,source:this.nodeToSource})];case 1:return f=o.sent(),this.processResultResponse(f),[2,this.isAlive]}}))}))},e.prototype.wave=function(){return n(this,void 0,Promise,(function(){var e,t,r,n,s,u,c,d,l,f,h,p,v,g,b,y;return o(this,(function(o){switch(o.label){case 0:if(!this.isAlive||this.waveFrontDepth>(this.options.maxDepth||Number.MAX_SAFE_INTEGER))return[2,!1];if(this.waveFrontDepth++,this.waveFrontDepth>(this.options.maxDepth||Number.MAX_SAFE_INTEGER))return this.stop(),[2,!1];for(e=new Set,t=new Set,r=this.options,n=r.includeCollisions,s=r.excludeSameDepthEdges,u=r.flow,c=r.includePath,n&&(d=new Map),n&&(f=new Set,l=new Set),h=function(r,o){var i=p.waveFront[r],c=void 0;if(!i)return console.warn("\n          Error: A wave front contained an undefined node which should not be possible.\n          This is either an error in the ripple select code base or the input network\n          has an invalid configuration.\n        "),"continue";p.nodeToSource&&(c=p.nodeToSource.get(i));for(var h=a.neighbors({node:i,exclude:p.visitedNodes,includeEdgeToExcludedNode:!0,includeExcludedNodes:n,includeEdgeForCircularReference:!s,flow:u}),v=0,g=h.nodes.length;v<g;++v){var b=h.nodes[v];e.add(b),p.visitedNodes.add(b),p.nodeToSource&&c&&p.nodeToSource.set(b,c),p.path&&p.path.set(b,i)}if(c&&d&&p.path&&p.nodeToSource&&h.excluded){var y=d,m=c,w=p.nodeToSource,E=p.path;h.excluded.forEach((function(t){if(e.has(t)){var r=y.get(t);if(r)r.push(i);else{var n=w.get(t),o=E.get(t);if(!o)return void console.warn("A new Node Collision was detected, but an exisiting source node was NOT found","for the node collided with. This could indicate a malformed data structure","or a bug was found in this selection algorithm.");if(!n)return void console.warn("A new Node Collision was detected, but an exisiting source node was NOT found","for the node collided with. This could indicate a malformed data structure","or a bug was found in this selection algorithm.");m!==n&&(r=[i,o],y.set(t,r))}}}))}for(var _=0,M=h.edges.length;_<M;++_){var T=h.edges[_];p.visitedEdges.has(T)||(t.add(T),p.visitedEdges.add(T))}if(h.edgeToExclusion)if(l&&f&&p.nodeToSource)for(_=0,M=h.edgeToExclusion.length;_<M;++_){T=h.edgeToExclusion[_];if(s||p.visitedEdges.has(T)||(t.add(T),p.visitedEdges.add(T)),l.has(T)&&!f.has(T)){var O=p.nodeToSource.get(T.a),N=p.nodeToSource.get(T.b);if(!O||!N)continue;O!==N&&f.add(T)}else l.add(T)}else if(!s)for(_=0,M=h.edgeToExclusion.length;_<M;++_){T=h.edgeToExclusion[_];p.visitedEdges.has(T)||(t.add(T),p.visitedEdges.add(T))}},p=this,v=0,g=this.waveFront.length;v<g;++v)h(v);return this.waveFront=i.makeList(e),b=i.makeList(t),[4,this.sendResult({depth:this.waveFrontDepth,edges:b,nodes:this.waveFront,path:c?this.path:void 0,source:this.nodeToSource,nodeCollisions:d,edgeCollisions:f})];case 1:return y=o.sent(),this.processResultResponse(y),this.waveFront.length>0?this.wave():this.stop(),[2,this.isAlive]}}))}))},e}(),u=function(){function e(){this.rippleLayers=[]}return e.prototype.splash=function(e,t){var r=new s(e,t);return r.init(),r.wave(),r.finished},e}();t.RippleSelect=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.travelCollisionPath=void 0;var n=r(8),o=r(2),i=r(21);t.travelCollisionPath=function(e,t,r,a,s){o.isEdge(e)&&(t=[e.a,e.b]);for(var u=function(u,c){var d=-1,l=t[u];if(o.isNode(e)){a(e,++d,u);var f=n.getEdge(l,e);if(!f)return console.warn("There was no edge from the source node to the rest of the path","This indicates malformed data, thus it should be ensured that the data","being queried should come from a VALID Network Data object."),"continue";s(f,++d,u)}else s(e,++d,u);i.travelPath(l,r,(function(e){return a(e,++d,u)}),(function(e){return s(e,++d,u)}))},c=0,d=t.length;c<d;++c)u(c)}},function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;++r)if(e[r].id!==t[r].id)return!1;return!0}function o(e,t){var r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(!r)return e===t;var n=e,o=t;if(n.length!==o.length)return!1;for(var i=0,a=n.length;i<a;++i)if(n[i]!==o[i])return!1;return!0}function i(e,t){return e.id===t.id&&e.meta===t.meta&&n(e.in,t.in)&&n(e.out,t.out)&&o(e.value,t.value)}function a(e,t){return e.a.id===t.a.id&&e.b.id===t.b.id&&e.id===t.id&&e.meta===t.meta&&o(e.atob,t.atob)&&o(e.btoa,t.btoa)}Object.defineProperty(t,"__esModule",{value:!0}),t.compareNetworks=t.compareEdges=t.compareNodes=t.compareWeights=t.compareIdentifiers=void 0,t.compareIdentifiers=n,t.compareWeights=o,t.compareNodes=i,t.compareEdges=a,t.compareNetworks=function(e,t){if(e.nodes.length!==t.nodes.length)return!1;for(var r=0,n=e.nodes.length;r<n;++r){if(!i(e.nodes[r],e.nodes[r]))return!1}if(e.edges.length!==t.edges.length)return!1;for(r=0,n=e.edges.length;r<n;++r){if(!a(e.edges[r],e.edges[r]))return!1}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCircularEdge=void 0,t.hasCircularEdge=function(e){var t=e.in.length>e.out.length?e.out:e.in;if(0===e.in.length||0===e.out.length)return!1;for(var r=0,n=t.length;r<n;++r){var o=t[r];if(o.a===o.b)return!0}return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNode=void 0;var n=r(0);t.hasNode=function(e,t){for(var r=0,o=(t=n.makeList(t)).length;r<o;++r){var i=t[r];if(!e.nodeMap.has(i.id))return!1}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeWeightRange=void 0;var n=r(22),o=r(23),i=r(24);t.nodeWeightRange=function(e,t){var r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;if(void 0===t)for(var s=0,u=e.nodes.length;s<u;++s){var c=e.nodes[s];r=Math.min(r,o.minWeight(c.value)),a=Math.max(a,n.maxWeight(c.value))}else for(s=0,u=e.nodes.length;s<u;++s){c=e.nodes[s];r=Math.min(r,i.weightAtIndex(t,c.value)),a=Math.max(a,i.weightAtIndex(t,c.value))}return[r,a]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNetwork=void 0;var n=r(10),o=r(11);t.cloneNetwork=function(e){for(var t=new Map,r=new Map,i=new Map,a=new Array(e.nodes.length),s=0,u=e.nodes.length;s<u;++s){var c=o.cloneNode(e.nodes[s]);i.set(c.id,c),a[s]=c}var d=new Array(e.edges.length);for(s=0,u=e.edges.length;s<u;++s){var l=n.cloneEdge(e.edges[s]);r.set(l.id,l),d[s]=l}for(s=0,u=a.length;s<u;++s){(c=a[s]).in=c.in.map((function(e){return r.get(e.id)})).filter(Boolean),c.out=c.out.map((function(e){return r.get(e.id)})).filter(Boolean)}for(s=0,u=d.length;s<u;++s){(l=d[s]).a=i.get(l.a.id),l.b=i.get(l.b.id)}return e.atobMap.forEach((function(e,n){var o=new Map;t.set(i.get(n.id),o),e.forEach((function(e,t){return o.set(i.get(t.id),r.get(e.id))}))})),{atobMap:t,edgeMap:r,edges:d,nodeMap:i,nodes:a}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.convertNetwork=t.isNodePair=void 0;var a=r(14),s=r(2),u=r(4),c=r(6),d=r(15);function l(e){return e&&e.a&&e.b&&Array.isArray(e.a)&&Array.isArray(e.b)}function f(e,t,r,n,o,i){if(e){for(var a=0,u=e.ab.length;a<u;++a){var l=e.ab[a],f=c.access(l,r,s.isDefined);f?n.push(f):d.makeError(i,o,{error:s.MakeNetworkErrorType.NODE_NOT_FOUND,source:l,message:"Could not determine the NodeSource for the provided edge information"})}for(a=0,u=e.ab.length;a<u;++a){l=e.ab[a];var h=c.access(l,t,s.isDefined);h?n.push(h):d.makeError(i,o,{error:s.MakeNetworkErrorType.NODE_NOT_FOUND,source:l,message:"Could not determine the NodeSource for the provided edge information"})}}}t.isNodePair=function(e){return e&&e.a&&e.b},t.convertNetwork=function(e){var t,r;return n(this,void 0,Promise,(function(){var n,h,p,v,g,b,y,m,w,E,_,M,T,O,N,S,A,I,P,x,k,D,R,j,C,F,U,L,B,W,V,G,Y,H,z,K,J,X,q,$,Q,Z,ee,te,re,ne,oe,ie,ae,se,ue;return o(this,(function(o){switch(o.label){case 0:n=e.data,h=e.nodes,p=e.nodeA,v=e.nodeB,g=e.nodeId,b=e.nodeInfo,y=e.nodeValue,m=e.nodeMeta,w=e.edges,E=e.edgeId,_=e.edgeA,M=e.edgeB,T=e.edgeInfo,O=e.edgeMeta,N=e.edgeValues,S=e.suppressErrors,A=[],I=new Set((void 0===S?[]:S)||[]),P=[],x=[],k=new Map,D=new Map,R=new Map,j=new Set,C=new Set,F=[],U={nodes:P,edges:x,nodeMap:k,edgeMap:D,atobMap:R},L=-1,o.label=1;case 1:o.trys.push([1,6,7,12]),B=i(a.values(n)),o.label=2;case 2:return[4,B.next()];case 3:if((W=o.sent()).done)return[3,5];for(V=W.value,G=[V],Y=function(){var e=G.pop();if(!e)return"continue";for(var t=u.makeList(c.access(e,g,s.isIdentifier)||[]),r=0,n=t.length;r<n;++r){var o=t[r];null==o&&d.makeError(I,A,{error:s.MakeNetworkErrorType.BAD_ID,source:e,message:'An node was generated that has an invalid ID: "'+o+'"'});var i=k.get(o);i&&(d.makeError(I,A,{error:s.MakeNetworkErrorType.DUPLICATE_NODE_ID,source:[i,e],message:"Two nodes have the same Identifier. This overrides the previous node discovered"}),j.delete(i));var a=null==b?void 0:b(o,r,e),E={id:o,in:[],out:[],value:c.access(e,y,s.isWeights,a)||0,meta:c.access(e,m,(function(e){return e}))||void 0};j.add(E),k.set(o,E);for(var _=c.access(e,h,(function(e){return Array.isArray(e)}))||[],M=0,T=_.length;M<T;++M){var O=_[M];G.push(O)}var N=_.map((function(t){return c.access({a:e,b:t},w,l)})),S=c.access(e,w,l),P=N.concat(S).filter(s.isDefined);F=F.concat(P),f(S,p,v,G,A,I)}};G.length;)Y();o.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return H=o.sent(),t={error:H},[3,12];case 7:return o.trys.push([7,,10,11]),W&&!W.done&&(r=B.return)?[4,r.call(B)]:[3,9];case 8:o.sent(),o.label=9;case 9:return[3,11];case 10:if(t)throw t.error;return[7];case 11:return[7];case 12:for(ae=0,se=F.length;ae<se;++ae)for(z=F[ae],K=0,J=z.ab.length;K<J;++K)for(X=z.ab[K],q=E?u.makeList(c.access(X,E,s.isIdentifier)||[]):[++L],$=0,Q=q.length;$<Q;++$)null!=(Z=q[$])?((ee=D.get(Z))&&(d.makeError(I,A,{error:s.MakeNetworkErrorType.DUPLICATE_EDGE_ID,source:[ee,X],message:"Two edges have the same Identifier. This overrides the previous edge discovered"}),C.delete(ee),u.removeFromMapOfMaps(R,ee.a,ee.b)),te=null==T?void 0:T(Z,$,X),re=k.get(c.access(X,_,s.isIdentifier,te)||""),ne=k.get(c.access(X,M,s.isIdentifier,te)||""),re&&ne?(oe=c.access(X,N,s.isEdgeWeights,te),ie={id:Z,a:re,b:ne,atob:(null==oe?void 0:oe.ab)||0,btoa:(null==oe?void 0:oe.ba)||0,meta:c.access(X,O,s.isDefined,te)},C.add(ie),D.set(Z,ie),u.addToMapOfMaps(R,ie.a,ie.b,ie)):d.makeError(I,A,{error:s.MakeNetworkErrorType.NODE_NOT_FOUND,source:X,message:"An edge targetted two nodes for it's a and b, but both were not found"})):d.makeError(I,A,{error:s.MakeNetworkErrorType.BAD_ID,source:X,message:"An edge was generated that has an invalid ID"});for(U.nodes=Array.from(j.values()),U.edges=Array.from(C.values()),ae=0,se=U.edges.length;ae<se;++ae)(ue=U.edges[ae]).a.out.push(ue),ue.b.in.push(ue);return[2,Object.assign(U,{errors:A})]}}))}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkSet=t.difference=t.union=t.intersection=t.IntersectMode=void 0;var i,a=r(9),s=r(4),u=r(10),c=r(11),d=r(26),l=r(7);function f(e,t,r){return n(this,void 0,Promise,(function(){var n,l,f,h,p,v,g,b,y,m,w,E;return o(this,(function(o){for(n=d.emptyNetwork(),r.type===i.USE_B?(l=function(e,t){return t},f=function(e,t){return t}):r.type===i.INTERSECT?(l=r.nodeIntersection,f=r.edgeIntersection):(l=function(e,t){return e},f=function(e,t){return e}),h=0,p=e.nodes.length;h<p;++h)g=e.nodes[h],(b=t.nodeMap.get(g.id))&&((E=c.cloneNode(l(g,b))).in=[],E.out=[],n.nodes.push(E),n.nodeMap.set(E.id,E));for(h=0,p=e.edges.length;h<p;++h)if(v=e.edges[h],g=n.nodeMap.get(v.a.id),b=n.nodeMap.get(v.b.id),g&&b){if(y=t.nodeMap.get(v.a.id),m=t.nodeMap.get(v.b.id),!y||!m)continue;if(!(w=a.getEdge(y,m,t)))continue;(E=u.cloneEdge(f(v,w))).a=g,E.b=b,n.edges.push(E),n.edgeMap.set(E.id,E),g.out.push(E),b.in.push(E),s.addToMapOfMaps(n.atobMap,E.a,E.b,E)}return[2,n]}))}))}function h(e,t,r){return n(this,void 0,Promise,(function(){var n,a,s;return o(this,(function(o){switch(o.label){case 0:return n=e.nodes.concat(t.nodes),a=e.edges.concat(t.edges),r.type===i.USE_B?(s=l.MakeNetworkAggregateValueMode.OVERRIDE,n=e.nodes.concat(t.nodes),a=e.edges.concat(t.edges)):(s=l.MakeNetworkAggregateValueMode.OVERRIDE,n=t.nodes.concat(e.nodes),a=t.edges.concat(e.edges)),[4,l.makeNetwork({aggregateResults:!0,aggregateValueMode:s,nodeData:n,edgeData:a,nodeId:function(e){return e.id},nodeMeta:function(e){return e.meta},nodeValues:function(e){return e.value},edgeId:function(e){return e.id},edgeA:function(e){return e.a.id},edgeB:function(e){return e.b.id},edgeMeta:function(e){return e.meta},edgeValues:function(e){return{ab:e.atob,ba:e.btoa}}})];case 1:return[2,o.sent()]}}))}))}function p(e,t){return n(this,void 0,void 0,(function(){var r,n,i,a,u,c;return o(this,(function(o){for(r=d.emptyNetwork(),n=0,i=e.nodes.length;n<i;++n)u=e.nodes[n],(c=t.nodeMap.get(u.id))||(r.nodes.push(u),r.nodeMap.set(u.id,u));for(n=0,i=t.nodes.length;n<i;++n)u=t.nodes[n],(c=e.nodeMap.get(u.id))||(r.nodes.push(u),r.nodeMap.set(u.id,u));for(n=0,i=e.edges.length;n<i;++n)a=e.edges[n],u=r.nodeMap.get(a.a.id),c=r.nodeMap.get(a.b.id),u&&c&&(r.edges.push(a),r.edgeMap.set(a.id,a),s.addToMapOfMaps(r.atobMap,a.a,a.b,a));return[2,r]}))}))}!function(e){e[e.USE_A=0]="USE_A",e[e.USE_B=1]="USE_B",e[e.INTERSECT=2]="INTERSECT"}(i=t.IntersectMode||(t.IntersectMode={})),t.intersection=f,t.union=h,t.difference=p,t.NetworkSet={union:h,intersection:f,difference:p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeCircularEdges=void 0;var n=r(3);t.removeCircularEdges=function(e){for(var t=e.edges.slice(0),r=0,o=t.length;r<o;++r){var i=t[r];i.a===i.b&&n.removeEdge(e,i)}return e}}])}));
//# sourceMappingURL=index.js.map